---
title: "Clean as You Go Software Development"
date: 2025-04-08 1:53:02-0400
description: "Notes on best practices"
tags:
  - Software Development
  - Best Practices
---

Last week I was working on a story where I had some extra time to address
some nagging issues in that particular codebase. You know what I'm talking
about. The build warnings that you've been ignoring for years. Phrases like
`deprecated` and `unsupported in the future`.

First I tackled a Docker warning from a `docker-compose.yml` file:

```
the attribute version is obsolete, it will be ignored, please remove it to avoid potential confusion
```

Yank it. Easy victory thank you very much Docker v2.

This Docker config file was building a specific version of WordPress. Version
6.7.1 to be exact. But every time I fired up the Docker container, the WP
Admin interface reported I was running version 6.7.2. After checking and
rechecking the Docker config file, I figured out WordPress was auto-updating
itself to 6.7.2. No thanks, I don't want a version bump - I want my local
dev environment to match what my WP host is using in production and staging.

The fix is to disable auto updates. You can add something like this to your
'wp-config.php' file:

```
define('WP_AUTO_UPDATE_CORE', false);
```

Another thing I wanted to customize was the default WordPress plugins. The
Docker images for WordPress includes the Akismet plugin. We aren't using that
so I don't want it in the local dev environment every time we
fire up the Docker container.

To solve that you can add something like this to `wordpress.Dockerfile`:

```
RUN rm -rf /usr/src/wordpress/wp-content/plugins/akismet
```

Now the local dev environment matches what's in production and staging.

These got me thinking about a mindset. It's similar to cooking. When I'm
making a meal I like to clean as I go. If I'm cooking a 1/2 cup of quinoa on
the stove I know I have 17 minutes until it's done, and then another 5
minutes to let it sit covered. I'll use that 22 minutes to prep up whatever
else I'm going to add to the bowl - a lemon tahini olive oil dressing. Some
lettuce, an avocado, maybe some leftover grilled veggies. If I can get all
that done in less than 22 minutes I'll be able to get ahead of some other
maintenance tasks: load the dishwasher, clean the filter in the dishwasher,
toss any expired ingredients in the fridge, wipe down the table, etc.

If you adopt the clean as you go mindset, you are a step ahead of the game.1

Maybe you'll realize you are out of frozen mangos for your smoothies? OK put
that on the shopping list for next time. It's akin to adding a new story to
the backlog so you don't lose track of it.

Getting rid of expired ingredients? Reducing tech debt. It's like ditching
big blocks of code that have been commented out for years but are still in
your codebase. No who is around even remembers what is was for? Get rid of it
. If you really need it in the future you can always find it in your git
history.

If you adpot a clean as you go mindset, you are making future work easier.
You can see what ingredients you have. You don't have to worry if they are
expired. You give yourself some mental space. And then you can enjoy the meal
and not have to do much cleanup afterwards.
