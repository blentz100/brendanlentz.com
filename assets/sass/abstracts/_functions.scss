@use "sass:math";

@use "settings";

// Gradient hack to get our custom underline to wrap:
// https://www.dannyguo.com/blog/animated-multiline-link-underlines-with-css/
@function underline-hack($color) {
  // Less compatible but better for light/dark mode switching. We fall back to non-alpha hex colors with
  // postcss-color-rgba-fallback to mitigate this.
  // stylelint-disable-next-line color-function-notation
  $color-opaque-alpha: rgba($color, math.div(settings.$link-underline-opacity, 100%));

  // Return non-gradient linear-gradient():
  @return linear-gradient($color-opaque-alpha, $color-opaque-alpha);
}
